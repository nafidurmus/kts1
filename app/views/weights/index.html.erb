<center>
  <h1>Weights</h1>
</center>


<table class="table table-striped">
  <thead>
    <tr>
      <th scope="col">username email</th>
      <th scope="col">Date</th>
      <th scope="col">Gender</th>
      <th scope="col">Lenght</th>
      <th scope="col">Weight</th>
      <th scope="col">Ideal weight</th>
      <th scope="col">Variation</th>
      
      <th colspan="4"></th>
    </tr>
  </thead>

  <tbody>
    <% @weights.each do |weight| %>
      <tr>
        <% if current_user.id == weight.user.id %>
          <td><%= weight.user.email%></td>
          <% t = weight.date %>
          <td><%= t.strftime("%d %B %Y (%A)") %></td>
          <td><%= weight.gender %></td>
          <td><%= weight.lenght %></td>
          <td><%= weight.weight %></td>
          <% if weight.gender == "man"  %>
            <td><%= a = (50 + (2.3 ) * ((weight.lenght - 152.4) / 2.54)).round(1) %></td>
            <td><%= weight.weight - a  %></td>
          <% else weight.gender == "woman" %>
            <td><%= a = (45 + (2.3 ) * ((weight.lenght - 152.4) / 2.54)).round(1) %></td>
            <td><%= weight.weight - a  %></td>
          <% end %>
          <td><%= link_to 'Show', weight %></td>
          <td><%= link_to 'Edit', edit_weight_path(weight) %></td>
          <td><%= link_to 'Destroy', weight, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Weight', new_weight_path %>


